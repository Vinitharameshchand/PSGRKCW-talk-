<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - FAQ Management</title>
    <link rel="stylesheet" href="css/admin.css">
</head>

<body class="dashboard-page">
    <!-- Header -->
    <header class="dashboard-header">
        <div class="header-left">
            <h1>üìö FAQ Management Dashboard</h1>
            <p class="college-name">PSGR Krishnammal College for Women</p>
        </div>
        <div class="header-right">
            <span class="welcome-text">Welcome, <strong id="admin-username">Admin</strong></span>
            <button class="btn-secondary" id="logout-btn">Logout</button>
        </div>
    </header>

    <!-- Main Content -->
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-section="overview">
                    <span class="icon">üìä</span> Overview
                </a>
                <a href="#" class="nav-item" data-section="add-faq">
                    <span class="icon">‚ûï</span> Add New FAQ
                </a>
                <a href="#" class="nav-item" data-section="manage-faqs">
                    <span class="icon">üìù</span> Manage FAQs
                </a>
                <a href="#" class="nav-item" data-section="search">
                    <span class="icon">üîç</span> Search FAQs
                </a>
            </nav>
        </aside>

        <!-- Content Area -->
        <main class="main-content">
            <!-- Overview Section -->
            <section id="overview-section" class="content-section active">
                <h2>Dashboard Overview</h2>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìö</div>
                        <div class="stat-info">
                            <h3 id="total-faqs">0</h3>
                            <p>Total FAQs</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üéì</div>
                        <div class="stat-info">
                            <h3 id="admission-count">0</h3>
                            <p>Admission FAQs</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üè†</div>
                        <div class="stat-info">
                            <h3 id="hostel-count">0</h3>
                            <p>Hostel FAQs</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <h3 id="fees-count">0</h3>
                            <p>Fees FAQs</p>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3>Quick Actions</h3>
                    <button class="action-btn" onclick="showSection('add-faq')">
                        ‚ûï Add New FAQ
                    </button>
                    <button class="action-btn" onclick="showSection('manage-faqs')">
                        üìù Manage All FAQs
                    </button>
                    <button class="action-btn" onclick="exportFAQs()">
                        üíæ Export FAQs
                    </button>
                </div>
            </section>

            <!-- Add FAQ Section -->
            <section id="add-faq-section" class="content-section">
                <h2>Add New FAQ</h2>

                <div class="form-card">
                    <form id="add-faq-form">
                        <div class="form-group">
                            <label for="domain">Category *</label>
                            <select id="domain" name="domain" required>
                                <option value="">Select a category</option>
                                <option value="admission">Admission</option>
                                <option value="academics">Academics</option>
                                <option value="fees">Fees</option>
                                <option value="hostel">Hostel</option>
                                <option value="facilities">Facilities</option>
                                <option value="placement">Placement</option>
                                <option value="scholarship">Scholarship</option>
                                <option value="sports">Sports</option>
                                <option value="events">Events</option>
                                <option value="extracurricular">Extracurricular</option>
                                <option value="administration">Administration</option>
                                <option value="general">General</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="keywords">Keywords * <small>(comma-separated)</small></label>
                            <input type="text" id="keywords" name="keywords"
                                placeholder="e.g., admission, apply, how to join" required>
                            <small class="help-text">Enter words or phrases that students might use to ask this
                                question</small>
                        </div>

                        <div class="form-group">
                            <label for="reply">Answer *</label>
                            <textarea id="reply" name="reply" rows="6"
                                placeholder="Enter the complete answer to the question" maxlength="2000"
                                required></textarea>
                            <small class="char-count"><span id="char-count">0</span> / 2000 characters</small>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn-primary">
                                <span id="add-btn-text">Add FAQ</span>
                                <span id="add-btn-loader" class="loader" style="display: none;"></span>
                            </button>
                            <button type="reset" class="btn-secondary">Clear Form</button>
                        </div>
                    </form>

                    <div id="add-message" class="message" style="display: none;"></div>
                </div>
            </section>

            <!-- Manage FAQs Section -->
            <section id="manage-faqs-section" class="content-section">
                <h2>Manage All FAQs</h2>

                <div class="filter-bar">
                    <select id="filter-domain" class="filter-select">
                        <option value="">All Categories</option>
                        <option value="admission">Admission</option>
                        <option value="academics">Academics</option>
                        <option value="fees">Fees</option>
                        <option value="hostel">Hostel</option>
                        <option value="facilities">Facilities</option>
                        <option value="placement">Placement</option>
                        <option value="scholarship">Scholarship</option>
                        <option value="general">General</option>
                    </select>
                    <button class="btn-secondary" onclick="loadFAQs()">üîÑ Refresh</button>
                </div>

                <div id="faqs-list" class="faqs-list">
                    <div class="loading">Loading FAQs...</div>
                </div>
            </section>

            <!-- Search Section -->
            <section id="search-section" class="content-section">
                <h2>Search FAQs</h2>

                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="Search by keyword or text..."
                        class="search-input">
                    <button class="btn-primary" onclick="searchFAQs()">üîç Search</button>
                </div>

                <div id="search-results" class="search-results">
                    <p class="empty-state">Enter a keyword to search FAQs</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit FAQ</h3>
                <button class="close-btn" onclick="closeEditModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-faq-form">
                    <input type="hidden" id="edit-index">

                    <div class="form-group">
                        <label for="edit-domain">Category *</label>
                        <select id="edit-domain" required>
                            <option value="admission">Admission</option>
                            <option value="academics">Academics</option>
                            <option value="fees">Fees</option>
                            <option value="hostel">Hostel</option>
                            <option value="facilities">Facilities</option>
                            <option value="placement">Placement</option>
                            <option value="scholarship">Scholarship</option>
                            <option value="general">General</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="edit-keywords">Keywords *</label>
                        <input type="text" id="edit-keywords" required>
                    </div>

                    <div class="form-group">
                        <label for="edit-reply">Answer *</label>
                        <textarea id="edit-reply" rows="6" maxlength="2000" required></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Save Changes</button>
                        <button type="button" class="btn-secondary" onclick="closeEditModal()">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/admin-dashboard.js"></script>
</body>

</html>